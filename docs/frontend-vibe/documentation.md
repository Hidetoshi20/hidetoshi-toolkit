# Prompt · 文档修改 / 优化 / 编写

> 适用：README、API 文档、技术规范、团队指南、注释优化等纯文档类工作。

## 0. 文档目标 / 受众定义

```text
你是协作式文档工程师，帮我把下面的文档需求整理成 doc-spec.md。
输入：
- 文档类型：<README / API 文档 / 指南 / 规范 / 注释>
- 目标受众：<新人 / 团队成员 / 外部用户 / 维护者>
- 核心目标：<快速上手 / 理解架构 / API 参考 / 最佳实践>
- 现有问题：<过时 / 缺失 / 混乱 / 冗余 / 难懂>
- 范围：<需要覆盖的模块/章节>
输出：
1. 文档目标（读者视角：读完能做什么）
2. 必须包含的内容（核心章节/信息点）
3. 可选内容（nice-to-have）
4. 风格要求（技术深度、语气、示例密度）
5. 验收标准（可读性、完整性、准确性）
若信息不足，请列出需要澄清的问题。
```

## 1. 结构规划 / 章节拆解

```text
基于上述 doc-spec.md，把文档工作拆成最小可审阅单元。
对每个 step，写：
- 目标章节/部分（例如：安装指南、API 参考、架构图）
- 内容要点（3-5 条 bullet）
- 需要的素材（代码示例、截图、链接）
- 完成后如何验证（自查清单）
确保顺序合理（概览 → 快速开始 → 深入 → 参考 → FAQ）。
```

## 2. 上下文装载

```text
以下为现有上下文：
- 现有文档：<粘贴或链接>
- 相关代码/配置：<粘贴关键部分>
- 团队约定/模板：<粘贴>
请给我 doc plan：
1. 哪些章节需要重写 vs 微调 vs 新增？
2. 现有示例是否过时？需要更新哪些？
3. 结构是否需要重组？建议的目录层级？
4. 风格是否一致？需要统一哪些方面（标题层级、代码块、术语）？
要求最小改动、保持现有风格；如需大幅调整，请说明原因。
```

## 3. 生成内容（逐章节）

```text
只针对 Step <编号> 产出内容草稿：
- 章节：<名称>
- 要点：<列出>
输出：
1. Markdown 格式的章节内容
2. 代码示例（带注释、可运行）
3. 需要补充的素材清单（截图/图表/链接）
4. 潜在的读者困惑点（需要额外说明的地方）
禁止编造不存在的 API 或配置，如需引用请显式声明"需要确认"。
```

> 完成 Step N 后再请求 Step N+1 的内容，保持每次审阅范围可控。

## 4. 自查 / 可读性验证

```text
假设最新内容已合并，请列出：
1. 自查清单（完整性、准确性、示例可运行性）
2. 可读性检查（术语一致、层级清晰、代码格式）
3. 受众验证（新人能否按文档完成任务？缺什么？）
4. 维护性（过时风险点、需要定期更新的部分）
输出格式：
- 内容验收 checklist
- 可读性 checklist
- 维护提示
```

## 5. Commit / PR

```text
基于当前 steps，请给：
1. 建议的 commit 列表（语义：docs/chore），每条 1 句说明
2. PR title（例如：docs: update API reference for v2.0）
3. PR summary（2-3 段，涵盖动机/变更范围/受众影响）
4. Review 要点（提醒 reviewer 重点关注的部分）
5. 后续维护建议（定期检查点、自动化可能性）
```

---

## 常见文档场景速查

### 场景 1：README 更新

- **重点**：快速开始、安装步骤、核心功能演示
- **验收**：新人能否在 5 分钟内跑起来？
- **风险**：依赖版本过时、命令失效

### 场景 2：API 文档

- **重点**：参数说明、返回值、示例、错误码
- **验收**：开发者能否不看源码就调用？
- **风险**：接口变更未同步、示例不可运行

### 场景 3：架构 / 设计文档

- **重点**：决策背景、模块职责、数据流、扩展点
- **验收**：新成员能否理解为什么这样设计？
- **风险**：实现已变但文档未更新

### 场景 4：团队规范 / 指南

- **重点**：约定、最佳实践、反模式、工具链
- **验收**：团队成员能否快速查到"怎么做"？
- **风险**：规范与实际脱节

### 场景 5：代码注释优化

- **重点**：复杂逻辑说明、边界条件、历史决策
- **验收**：维护者能否快速理解意图？
- **风险**：注释与代码不同步

---

## 文档质量自查表

在提交前，用这个清单快速验证：

- [ ] **完整性**：核心信息都覆盖了吗？
- [ ] **准确性**：示例能跑通吗？版本号对吗？
- [ ] **可读性**：层级清晰吗？术语一致吗？
- [ ] **可操作**：读者能按步骤完成任务吗？
- [ ] **可维护**：标注了容易过时的部分吗？
- [ ] **风格统一**：标题、代码块、列表格式一致吗？
